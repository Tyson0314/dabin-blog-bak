(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{695:function(s,a,t){"use strict";t.r(a);var e=t(14),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"git-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-简介"}},[s._v("#")]),s._v(" Git 简介")]),s._v(" "),t("p",[s._v("Git 是一个开源的分布式版本控制系统，可以有效、快速的进行项目版本管理。Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。")]),s._v(" "),t("h2",{attrs:{id:"git工作流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git工作流程"}},[s._v("#")]),s._v(" Git工作流程")]),s._v(" "),t("p",[s._v("Git工作流程如下：")]),s._v(" "),t("ul",[t("li",[s._v("从远程仓库中克隆资源作为本地仓库；")]),s._v(" "),t("li",[s._v("在本地仓库中进行代码修改；")]),s._v(" "),t("li",[s._v("在提交本地仓库前先将代码提交到暂存区；")]),s._v(" "),t("li",[s._v("提交修改，提交到本地仓库。本地仓库中保存修改的所有历史版本；")]),s._v(" "),t("li",[s._v("在需要和团队成员共享代码时，可以将修改的代码push到远程仓库。")])]),s._v(" "),t("p",[s._v("Git 的工作流程图如下：")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.dabin-coder.cn/image/git-work-flow.png",alt:""}})]),s._v(" "),t("blockquote",[t("p",[s._v("图片来源：https://blog.csdn.net/ThinkWon/article/details/94346816")])]),s._v(" "),t("h2",{attrs:{id:"存储原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存储原理"}},[s._v("#")]),s._v(" 存储原理")]),s._v(" "),t("p",[s._v("Git 在保存项目状态时，它主要对全部文件制作一个快照并保存这个快照的索引，如果文件没有被修改，Git 不会重新存储这个文件，而是只保留一个链接指向之前存储的文件。")]),s._v(" "),t("h2",{attrs:{id:"git-快照"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-快照"}},[s._v("#")]),s._v(" Git 快照")]),s._v(" "),t("p",[s._v("快照就是将旧文件所占的空间保留下来，并且保存一个引用，而新文件中会继续使用与旧文件内容相同部分的磁盘空间，不同部分则写入新的磁盘空间。")]),s._v(" "),t("h2",{attrs:{id:"三种状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三种状态"}},[s._v("#")]),s._v(" 三种状态")]),s._v(" "),t("p",[s._v("Git 的三种状态：已修改（modified）、已暂存（staged）和已提交（committed）。已修改表示修改了文件，但还没保存到数据库。已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。已提交表示数据已经安全的保存到本地数据库。")]),s._v(" "),t("p",[s._v("基本的 Git 工作流程：在工作目录修改文件；暂存文件，将文件快照放到暂存区域；提交更新到本地库。暂存区保存了下次将要提交的文件列表信息，一般在 Git 仓库目录中。")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.dabin-coder.cn/image/git%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.png",alt:""}})]),s._v(" "),t("blockquote",[t("p",[s._v("图片来源："),t("code",[s._v("https://img2018.cnblogs.com/blog/1252910/201907/1252910-20190726163829113-2056815874.png")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.dabin-coder.cn/image/git-status.png",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),t("p",[s._v("设置用户名和邮箱地址：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dabin"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.email xxx@xxx.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("如果使用了 --global 选项，那么该命令只需要运行一次，因为之后无论你在该系统上做任何事情，Git 都会使用那些信息。 当你想针对特定项目使用不同的用户名称与邮件地址时，可以在那个项目目录下运行没有 --global 选项的命令来配置。")]),s._v(" "),t("p",[s._v("查看配置信息：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --list\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看某一项配置：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config user.name\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"获取帮助"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取帮助"}},[s._v("#")]),s._v(" 获取帮助")]),s._v(" "),t("p",[s._v("获取 config 命令的手册：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" config\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"git-基础"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-基础"}},[s._v("#")]),s._v(" Git 基础")]),s._v(" "),t("h2",{attrs:{id:"获取-git-仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取-git-仓库"}},[s._v("#")]),s._v(" 获取 Git 仓库")]),s._v(" "),t("p",[s._v("在现有目录中初始化仓库：进入项目目录并输入"),t("code",[s._v("git init")])]),s._v(" "),t("p",[s._v("克隆现有的仓库：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"文件状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件状态"}},[s._v("#")]),s._v(" 文件状态")]),s._v(" "),t("p",[s._v("查看文件状态："),t("code",[s._v("git status")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.dabin-coder.cn/image/git%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png",alt:""}})]),s._v(" "),t("blockquote",[t("p",[s._v("图片来源："),t("code",[s._v("https://img2018.cnblogs.com/blog/1252910/201907/1252910-20190726163854195-886320537.png")])])]),s._v(" "),t("p",[t("strong",[s._v("状态说明：")])]),s._v(" "),t("p",[s._v("新添加的未跟踪文件前面有 ?? 标记，新添加到暂存区中的文件前面有 A 标记，修改过的文件前面有 M 标记，如下图，"),t("code",[s._v("MM Rakefile")]),s._v("出现两个M，其中出现在靠左边的 M 表示该文件被修改了并放入了暂存区，出现在右边的 M 表示该文件被修改了但是还没放入暂存区。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status -s\n M README "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 右边的 M 表示该文件被修改了但是还没放入暂存区")]),s._v("\nMM Rakefile "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 左边的 M 表示该文件被修改了并放入了暂存区；右边的 M 表示该文件被修改了但是还没放入暂存区")]),s._v("\nA lib/git.rb "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# A表示新添加到暂存区中的文件")]),s._v("\n?? LICENSE.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ??表示新添加的未跟踪文件")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"配置别名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置别名"}},[s._v("#")]),s._v(" 配置别名")]),s._v(" "),t("p",[s._v("有些人可能经常敲错命令，通过配置别名可以简化命令：")]),s._v(" "),t("p",[s._v("通过命令 "),t("code",[s._v("git config --global alias.st status")]),s._v(" 将 命令"),t("code",[s._v("git status")]),s._v(" 简化为 "),t("code",[s._v("git st")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.st status\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" st\nOn branch master\nYour branch is up to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" with "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'origin/master'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\nnothing to commit, working tree clean\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"工作区"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工作区"}},[s._v("#")]),s._v(" 工作区")]),s._v(" "),t("p",[s._v("查看工作区修改："),t("code",[s._v("git diff")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" --git a/md/leetcode刷题笔记.md b/md/leetcode刷题笔记.md\ndeleted "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" mode "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100644")]),s._v("\nindex 63a7c90"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("0000000\n--- a/md/leetcode刷题笔记.md\n+++ /dev/null\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("撤销工作区修改：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -- file_name\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("此命令会撤销工作区的修改，不可恢复，不会撤销暂存区修改。")]),s._v(" "),t("p",[s._v("撤销修改还可以使用 restore 命令（git2.23版本引入）。")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("git restore "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("worktree demo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//撤销文件工作区的修改")]),s._v("\ngit restore "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("staged demo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//撤销暂存区的修改，将文件状态恢复到未add之前")]),s._v("\ngit restore "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s HEAD"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" demo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//将当前工作区切换到上个 commit 版本，-s相当于--source")]),s._v("\ngit restore "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s hadn12 demo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//将当前工作区切换到指定 commit id 的版本")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"暂存区"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#暂存区"}},[s._v("#")]),s._v(" 暂存区")]),s._v(" "),t("p",[s._v("通过"),t("code",[s._v("git add filename")]),s._v(" 将工作区的文件放到暂存区。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" README.md\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看暂存区修改：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" --staged\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" --git a/README.md b/README.md\nindex ecd6c7a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("653f001 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100644")]),s._v("\n--- a/README.md\n+++ b/README.md\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("可以看到暂存区中有 README.md 文件，说明README.md文件被放到了暂存区。")]),s._v(" "),t("p",[s._v("撤销暂存区修改使用unstage：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset HEAD file_name\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("将文件修改移出暂存区，放到工作区。")]),s._v(" "),t("p",[t("strong",[s._v("git reset 加上 --hard 选项会导致工作目录中所有修改丢失。")])]),s._v(" "),t("h2",{attrs:{id:"提交"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提交"}},[s._v("#")]),s._v(" 提交")]),s._v(" "),t("p",[s._v("任何未提交的修改丢失后很可能不可恢复。提交命令：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"add readme.md"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("code",[s._v('git commit -a -m "xxx"')]),s._v(" 相当于"),t("code",[s._v("git add")]),s._v("和"),t("code",[s._v('git commit -m "xxx"')]),s._v("，将 tracked 的文件直接提交。untracked 的文件无法使用此命令直接提交，需先执行 git add 命令，再执行 git commit。")]),s._v(" "),t("p",[s._v("单独执行"),t("code",[s._v("git commit")]),s._v("，不带上-m参数，会进入 vim 编辑器界面：")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://img.dabin-coder.cn/image/image-20210830225020753.png",alt:""}})]),s._v(" "),t("p",[s._v("此时应该这么操作：")]),s._v(" "),t("ol",[t("li",[s._v("按下字母键"),t("code",[s._v("i")]),s._v("或"),t("code",[s._v("a")]),s._v("或"),t("code",[s._v("o")]),s._v("，进入到可编辑状态")]),s._v(" "),t("li",[s._v("输入commit信息之后，按下"),t("code",[s._v("Esc")]),s._v("键就可退出编辑状态，回到一般模式")]),s._v(" "),t("li",[s._v("输入:wq （保存退出）或 :wq!（强行退出，不保存）")])]),s._v(" "),t("h3",{attrs:{id:"修改commit信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改commit信息"}},[s._v("#")]),s._v(" 修改commit信息")]),s._v(" "),t("p",[s._v("如果提交后发现漏掉某些文件或者提交信息写错，使用"),t("code",[s._v("git commit --amend")]),s._v("重新提交：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'initial commit'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" forgotten_file\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit --amend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"查看提交历史"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看提交历史"}},[s._v("#")]),s._v(" 查看提交历史")]),s._v(" "),t("p",[t("code",[s._v("git log")]),s._v("列出所有提交的更新。")]),s._v(" "),t("p",[t("code",[s._v("git log -p -2")]),s._v("，-p 用来显示每次提交的内容差异，-2表示显示最近两次提交。")]),s._v(" "),t("p",[t("code",[s._v("git log --stat")]),s._v("每次提交下面都会列出所有被修改的文件、有多少文件被修改和哪些行被修改等。")]),s._v(" "),t("p",[t("code",[s._v("git log --pretty=oneline")]),s._v("将每个提交放在一行显示。")]),s._v(" "),t("p",[t("code",[s._v('git log --pretty=format:"%h %s" --graph')]),s._v(" format 表示格式化输出，%h 提交对象的简短哈希串，%s 是提交说明，--graph 可以更形象的展示分支、合并历史。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --pretty"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("format:"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%h %s"')]),s._v(" --graph\n* 75f8b36 update\n* cd72e4f 删除查询性能优化\n* 6bddc95 MySQL总结整理\n* f8ace0e java常见关键字总结\n* 0c4efeb 删除android\n* 4844de5 mysql执行计划\n* 635c140 redis分布式锁\n* 7b65bc3 update\n* e563eec update\n* 67e1cf7 update readme\n* 218f353 调整目录结构\n* "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9428314")]),s._v(" 整理Java基础内容\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[t("code",[s._v("git log --since=2.weeks")]),s._v(" 按照时间作限制。")]),s._v(" "),t("h2",{attrs:{id:"版本回退"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#版本回退"}},[s._v("#")]),s._v(" 版本回退")]),s._v(" "),t("p",[s._v("版本回退使用"),t("code",[s._v("git reset")]),s._v("命令。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard commit_id\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard HEAD^ "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 回退所有内容到上一个版本")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard HEAD^^ "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 回退所有内容到上上一个版本")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard HEAD~100 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 回退到之前第100个版本  ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset HEAD readme.txt  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把暂存区的修改撤销掉（unstage）, 重新放到工作区 ")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"stash"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#stash"}},[s._v("#")]),s._v(" stash")]),s._v(" "),t("p",[s._v("将未提交的修改保存起来。用于后续恢复当前工作目录。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash pop stash@"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" //恢复后删除\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash apply stash@"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("  //恢复后不删除，需手动删除\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stage drop\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash list //查看stash 列表\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash show -p stash@"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" //查看stash具体内容，-p查看diff，stash@"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("可以省略\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"rm和mv"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rm和mv"}},[s._v("#")]),s._v(" rm和mv")]),s._v(" "),t("p",[t("code",[s._v("git rm readme.md")]),s._v("：文件未被修改过，从暂存区移除文件，然后提交，相当于 "),t("code",[s._v("rm readme.md")]),s._v("和"),t("code",[s._v("git add .")]),s._v("。如果只是简单地从工作目录中手工删除文件，运行 git status 时就会在 “Changes not staged for commit”。")]),s._v(" "),t("p",[t("code",[s._v("git rm --cached README.md")]),s._v("：让文件保留在工作区，但是不想让 Git 继续跟踪。可以使用 --cached 选项来实现。文件被修改过，还没有放进暂存区，则必须要用强制删除选项 -f ，以防止误删还没有添加到暂存区的数据，这样的数据不能被 Git 恢复。")]),s._v(" "),t("p",[s._v("git rm 支持正则表达式：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" log/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("*.log\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("对文件改名：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" README.md README\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("相当于运行一下三条命令：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" README.md README\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" README.md\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" README\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"忽略文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#忽略文件"}},[s._v("#")]),s._v(" 忽略文件")]),s._v(" "),t("p",[s._v(".gitignore 只能忽略未跟踪状态的文件。")]),s._v(" "),t("p",[s._v("如果远程仓库已经有了logs文件夹，使用以下命令可以删除文件的跟踪状态。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" --cached logs/xx.log\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("此时本地工作区修改还在。然后更新 .gitignore 文件，最后使用下面的命令删除远程仓库对应的文件。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xx"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"skip-worktree和assume-unchanged"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#skip-worktree和assume-unchanged"}},[s._v("#")]),s._v(" skip-worktree和assume-unchanged")]),s._v(" "),t("p",[s._v("skip-worktree：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("skip-worktree 可以实现修改本地文件不会被提交，但又可以拉取最新更改的需求。适用于一些不经常变动，但是必须本地化设置的文件。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" update-index --skip-worktree "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("file"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("取消skip-worktree：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" update-index --no-skip-worktree "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("file"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("查看 skip-worktree 列表：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" ls-files -v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^S\\ '")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("p",[s._v("assume-unchanged:")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("该命令只是假设文件没有变动，使用reset时，会将文件修改回去。当远程仓库相应的文件被修改时，pull更新之后，--assume-unchanged 会被清除。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" update-index --assume-unchanged "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("file"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("取消忽略：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" update-index --no-assume-unchanged file/path\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("查看忽略了哪些文件：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" ls-files -v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^h\\ '")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("h2",{attrs:{id:"远程仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#远程仓库"}},[s._v("#")]),s._v(" 远程仓库")]),s._v(" "),t("p",[s._v("远程仓库是指托管在网络中的项目版本库。")]),s._v(" "),t("h3",{attrs:{id:"查看远程仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看远程仓库"}},[s._v("#")]),s._v(" 查看远程仓库")]),s._v(" "),t("p",[s._v("查看远程仓库地址：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote -v\norigin https://github.com/schacon/ticgit "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fetch"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\norigin https://github.com/schacon/ticgit "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("push"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"添加远程仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加远程仓库"}},[s._v("#")]),s._v(" 添加远程仓库")]),s._v(" "),t("p",[s._v("运行 "),t("code",[s._v("git remote add <shortname> <url>")]),s._v(" 添加远程 Git 仓库，同时指定一个简写名称。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" pb https://github.com/paulboone/ticgit\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("如上命令，可以在命令行中使用字符串 pb 来代替整个 URL。如"),t("code",[s._v("git fetch pb")]),s._v("。")]),s._v(" "),t("p",[s._v("如果使用 clone 命令克隆了一个仓库，命令会自动将其添加为远程仓库并默认以 origin 为默认简写名称。")]),s._v(" "),t("p",[s._v("取消关联Git仓库：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote remove origin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"给origin设置多个远程仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#给origin设置多个远程仓库"}},[s._v("#")]),s._v(" 给origin设置多个远程仓库")]),s._v(" "),t("p",[s._v("如果想要给origin设置两个远程仓库地址（git add会报错），可以使用"),t("code",[s._v("git remote set-url --add origin url")]),s._v("来设置。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" origin  xxx.git\nfatal: remote origin already exists.\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote set-url --add origin xxx.git\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#success")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"修改远程仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改远程仓库"}},[s._v("#")]),s._v(" 修改远程仓库")]),s._v(" "),t("p",[s._v("修改远程仓库地址：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote set-url origin git@github.com:Tyson0314/Blog.git\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"pull-和-fetch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pull-和-fetch"}},[s._v("#")]),s._v(" pull 和 fetch")]),s._v(" "),t("p",[s._v("从远程仓库获取数据：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("remote-name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("git fetch 命令将数据拉取到本地仓库，但它并不会自动合并到本地分支，必须手动将其合并本地分支。")]),s._v(" "),t("p",[s._v("git pull 通常会从远程仓库拉取数据并自动尝试合并到当前所在的分支。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch + "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" merge FETCH_HEAD \n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull --rebase "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch + "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase FETCH_HEAD \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"本地仓库上传git服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地仓库上传git服务器"}},[s._v("#")]),s._v(" 本地仓库上传git服务器")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将目录变成本地仓库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxx'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交到本地仓库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" origin https://github.com/Tyson0314/profile "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关联远程仓库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch --set-upstream-to"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("origin/master master  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本地分支关联远程分支")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin master --allow-unrelated-histories "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 允许合并不相关的历史")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -u origin master  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果当前分支与多个主机存在追踪关系，则-u会指定一个默认主机，这样后面就可以不加任何参数使用git push。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"推送到远程仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#推送到远程仓库"}},[s._v("#")]),s._v(" 推送到远程仓库")]),s._v(" "),t("p",[s._v("推送使用命令："),t("code",[s._v("git push [remote-name] [branch-name]")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"查看远程仓库-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看远程仓库-2"}},[s._v("#")]),s._v(" 查看远程仓库")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote show origin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"远程仓库移除和命名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#远程仓库移除和命名"}},[s._v("#")]),s._v(" 远程仓库移除和命名")]),s._v(" "),t("p",[s._v("移除远程仓库：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" paul\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("重命名远程仓库：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rename")]),s._v(" old-name new-name\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标签"}},[s._v("#")]),s._v(" 标签")]),s._v(" "),t("p",[s._v("给历史的某个提交打标签，如标记发布节点（v1.0等）。")]),s._v(" "),t("p",[s._v("tag标签可以帮助我们回退到某个版本的代码，我们通过tag的名称即可回退，而不需要根据某个提冗长的commit ID来回退：")]),s._v(" "),t("ul",[t("li",[s._v("查看本地tag：git tag")]),s._v(" "),t("li",[s._v("新建tag：git tag -a v2.0 -m 'msg'")]),s._v(" "),t("li",[s._v("推送指定tag至远程：git push origin v2.0")]),s._v(" "),t("li",[s._v("推送本地所有tag至远程：git push origin --tags")]),s._v(" "),t("li",[s._v("删除本地tag：git tag -d v2.0")]),s._v(" "),t("li",[s._v("删除远程tag：git push origin --delete tag 2.0")]),s._v(" "),t("li",[s._v("本地查看不同tag的代码：get checkout v1.0")]),s._v(" "),t("li",[s._v("查看标签详情（包含commitId）：git show v1.0")]),s._v(" "),t("li",[s._v("回退到某个版本：git reset --hard commitId")]),s._v(" "),t("li",[s._v("获取远程分支：git fetch origin tag V2.0")])]),s._v(" "),t("h3",{attrs:{id:"创建标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建标签"}},[s._v("#")]),s._v(" 创建标签")]),s._v(" "),t("p",[s._v("Git 使用两种主要类型的标签：轻量标签（lightweight）与附注标签（annotated）。一个轻量标签很像一个不会改变的分支 - 它只是一个特定提交的引用。然而，附注标签是存储在 Git 数据库中的一个完整对象。 它们是可以被校验的；其中包含打标签者的名字、电子邮件地址、日期时间；还有一个标签信息；并且可以使用 GNU Privacy Guard （GPG）签名与验证。 通常建议创建附注标签。")]),s._v(" "),t("p",[s._v("创建的标签都只存储在本地，不会自动推送到远程。")]),s._v(" "),t("h4",{attrs:{id:"附注标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#附注标签"}},[s._v("#")]),s._v(" 附注标签")]),s._v(" "),t("p",[s._v("添加附注标签：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" tag -a v1.4 -m "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'my version 1.4'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("-m 选项指定标签的信息。")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("git show v1.4")]),s._v(" 命令可以看到标签信息和对应的提交信息。")]),s._v(" "),t("h4",{attrs:{id:"轻量标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#轻量标签"}},[s._v("#")]),s._v(" 轻量标签")]),s._v(" "),t("p",[s._v("添加轻量标签：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" tag v1.4-tyson\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("此时运行 "),t("code",[s._v("git show v1.4-tyson")]),s._v("不会看到额外的标签信息，只显示提交信息。")]),s._v(" "),t("h3",{attrs:{id:"推送标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#推送标签"}},[s._v("#")]),s._v(" 推送标签")]),s._v(" "),t("p",[s._v("推送某个标签到远程，使用命令：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("tagname"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("一次性推送全部尚未推送到远程的本地标签：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin --tags\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("删除远程标签(先删除本地标签) ：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin :refs/tags/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("tagname"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"后期打标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后期打标签"}},[s._v("#")]),s._v(" 后期打标签")]),s._v(" "),t("p",[s._v("比如给下面的这个提交（ "),t("code",[s._v("modified readme.md")]),s._v(" ）打标签："),t("code",[s._v("git tag -a v1.2 c1285b")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --pretty"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("oneline\n22fb43d9f59b983feb64ee69bd0658f37ea45db6 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HEAD -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master, tag: v1.4-tyson, tag: v1.4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" note.md\naab2fda0b604dc295fc2bd5bfef14f3b8e3c5a98 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" one line\nc1285bcff4ef6b2aefdaf94eb9282fd4257621c6 modified readme.md\nba8e8a5fb932014b4aaf9ccd3163affb7699d475 renamed\nd2ffb8c33978295aed189f5854857bc4e7b55358 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" readme.md\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"共享标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#共享标签"}},[s._v("#")]),s._v(" 共享标签")]),s._v(" "),t("p",[s._v("git push 命令并不会传送标签到远程仓库服务器上。在创建完标签后你必须显式地推送标签到共享服务器上：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin v1.5\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("把所有不在远程仓库服务器上的标签全部传送到那里：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin --tags\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"检出标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检出标签"}},[s._v("#")]),s._v(" 检出标签")]),s._v(" "),t("p",[s._v("如果你想要工作目录与仓库中特定的标签版本完全一样，可以使用 "),t("code",[s._v("git checkout -b [branchname] [tagname]")]),s._v(" 在特定的标签上创建一个新分支：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -b version2 v2.0.0\nSwitched to a new branch "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'version2'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"git-别名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-别名"}},[s._v("#")]),s._v(" git 别名")]),s._v(" "),t("p",[s._v("取消暂存别名：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.unstage "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'reset HEAD --'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("最后一次提交：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global alias.last "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'log -1 HEAD'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"git-分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-分支"}},[s._v("#")]),s._v(" git 分支")]),s._v(" "),t("p",[s._v("Git 鼓励在工作流程中频繁地使用分支与合并。")]),s._v(" "),t("p",[s._v("Git 保存的不是文件的变化或者差异，而是一系列不同时刻的文件快照。git 提交对象会包含一个指向暂存内容快照的指针。")]),s._v(" "),t("h2",{attrs:{id:"分支创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分支创建"}},[s._v("#")]),s._v(" 分支创建")]),s._v(" "),t("p",[s._v("创建 tyson 分支：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch testing\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看远程分支：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch -r\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"分支切换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分支切换"}},[s._v("#")]),s._v(" 分支切换")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("git checkout branch-name")]),s._v(" 切换分支：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout testing\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看各个分支当前所指的对象："),t("code",[s._v("git log --oneline --decorate")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --oneline --decorate\n22fb43d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HEAD -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" master, tag: v1.4-tyson, tag: v1.4, tyson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" note.md\naab2fda "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" one line\nc1285bc "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tag: v1.2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" modified readme.md\nba8e8a5 renamed\nd2ffb8c "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" readme.md\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("master 和 tyson 分支都指向校验和为 22fb43d 的提交对象。")]),s._v(" "),t("p",[t("code",[s._v("git checkout -b iss53")]),s._v(" = "),t("code",[s._v("git branch iss53")]),s._v(" + "),t("code",[s._v("git checkout iss53")])]),s._v(" "),t("h2",{attrs:{id:"分支合并"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分支合并"}},[s._v("#")]),s._v(" 分支合并")]),s._v(" "),t("p",[s._v("合并 iss53 分支到 master 分支：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout mastergit merge iss53\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("squash merge：合并多个 commit 为一个，合并完需要重新提交，会修改原 commit 的提交信息，包括 author。")]),s._v(" "),t("h3",{attrs:{id:"合并冲突"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#合并冲突"}},[s._v("#")]),s._v(" 合并冲突")]),s._v(" "),t("p",[s._v("当合并产生冲突时不会自动地创建一个新的合并提交。 Git 会暂停下来，等待你去解决合并产生的冲突。 你可以在合并冲突后的任意时刻使用 git status 命令来查看那些因包含合并冲突而处于 unmerged 状态的文件。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" HEAD:index.html\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"footer"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("contact "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" email.support@github.com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/div"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"footer"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nplease contact us at support@github.com\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/div"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" iss53:index.html\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("在你解决了所有文件里的冲突之后，对每个文件使用 git add 命令来将其标记为冲突已解决。然后输入 "),t("code",[s._v('git commit -m "merge branch iss53"')]),s._v("完成合并提交。")]),s._v(" "),t("h2",{attrs:{id:"rebase"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rebase"}},[s._v("#")]),s._v(" rebase")]),s._v(" "),t("p",[s._v("现在我们有这样的两个分支,test和master，提交如下：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("       D---E "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n      /\n A---B---C---F--- master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("在master执行git merge test，会生成额外的提交节点G：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("       D--------E\n      /          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n A---B---C---F----G---   test, master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("在master执行git rebase test，本地提交以补丁形式打在分支的最后面：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("A---B---D---E---C‘---F‘---   test, master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("merge操作会生成一个新的节点，之前的提交分开显示。\n而rebase操作不会生成新的节点，是将两个分支融合成一个线性的提交。")]),s._v(" "),t("p",[s._v("合并commit："),t("code",[s._v("git rebase -i")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pick c38e7ae rebase content\ns 595ede1 rebase\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Rebase 8824682..595ede1 onto 8824682 (2 commands)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Commands:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# p, pick = use commit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# r, reword = use commit, but edit the commit message")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# e, edit = use commit, but stop for amending")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# s, squash = use commit, but meld into previous commit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# f, fixup = like "squash", but discard this commit\'s log message')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# x, exec = run command (the rest of the line) using shell")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# d, drop = remove commit")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[t("code",[s._v("s 595ede1 rebase")]),s._v("会将595ede1合到前一个commit，按下"),t("code",[s._v(":wq")]),s._v("之后会弹出对话框，合并commit message。")]),s._v(" "),t("h2",{attrs:{id:"删除分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除分支"}},[s._v("#")]),s._v(" 删除分支")]),s._v(" "),t("p",[s._v("删除本地分支：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch -d tyson\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("删除远程分支：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin --delete master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"分支管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分支管理"}},[s._v("#")]),s._v(" 分支管理")]),s._v(" "),t("p",[s._v("得到当前所有分支的一个列表：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ git branch\n* master\n  tyson\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("*代表当前 HEAD 指针所指向的分支。")]),s._v(" "),t("p",[s._v("查看每一个分支的最后一次提交：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ git branch -v* master 22fb43d add file note.md  tyson  22fb43d add file note.md\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看哪些分支已经合并到当前分支：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$git\tbranch\t--merged\t\tiss53 *master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看所有包含未合并工作的分支：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$git branch --no-merged\ntesting\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("如果分支包含未合并的工作，使用 "),t("code",[s._v("git branch -d testing")]),s._v(" 删除时会出错，可以使用 "),t("code",[s._v("git branch -D testing")]),s._v("强制删除。")]),s._v(" "),t("h2",{attrs:{id:"远程分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#远程分支"}},[s._v("#")]),s._v(" 远程分支")]),s._v(" "),t("h3",{attrs:{id:"推送"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#推送"}},[s._v("#")]),s._v(" 推送")]),s._v(" "),t("p",[s._v("将本地的 master 分支推送到远程仓库 origin/master 分支：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("将本地的 tyson 分支推送到远程仓库的 tyson-branch 分支 ：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin tyson:tyson-branch\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("假如当前本地分支是 tyson，抓取远程仓库数据后，需要进行合并：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("git fetch origin\ngit merge origin/tyson\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("将本地的所有分支都推送到远程主机：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -all origin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("强制推送（"),t("strong",[s._v("最好不用")]),s._v("）：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push --force origin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"跟踪分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#跟踪分支"}},[s._v("#")]),s._v(" 跟踪分支")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ git checkout --track origin/tyson\nBranch tyson set up to track remote branch tyson from origin.\nSwitched to a new branch 'tyson'\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("本地分支与远程分支设置为不同名字：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ git checkout -b tyson-branch origin/tyson\nBranch tyson-branch set up to track remote branch tyson from origin.\nSwitched to a new branch 'tyson-branch'\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("设置已有的本地分支跟踪一个刚刚拉取下来的远程分支，使用 -u 或 --set-upstream-to 选项：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch -u origin master\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看设置的所有跟踪分支：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ git branch -vv\niss53 7e424c3 [origin/iss53: ahead 2] forgot the brackets\nmaster 1ae2a45 [origin/master] deploying index fix\n* serverfix f8674d9 [teamone/server-fix-good: ahead 3, behind 1] this should do it\ntesting 5ea463a trying something new\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("这些数据是本地缓存的服务器数据，如果需要最新的数据，可以先运行："),t("code",[s._v("git fetch --all")]),s._v(" 然后再运行："),t("code",[s._v("git branch -vv")])]),s._v(" "),t("h3",{attrs:{id:"fetch和pull"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fetch和pull"}},[s._v("#")]),s._v(" fetch和pull")]),s._v(" "),t("p",[s._v("git fetch 会将远程仓库的更新拉取到本地远程仓库的副本，不会自动合并到本地仓库。")]),s._v(" "),t("p",[s._v("git fetch 步骤：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("git fetch origin master"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("tmp  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//在本地新建一个tmp分支，并将远程origin仓库的master分支代码下载到本地tmp分支")]),s._v("\ngit diff tmp "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//来比较本地代码与刚刚从远程下载下来的代码的区别")]),s._v("\ngit merge tmp"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//合并tmp分支到本地的master分支")]),s._v("\ngit branch "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d tmp"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//如果不想保留temp分支 可以用这步删除")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("code",[s._v("git pull")]),s._v(" = "),t("code",[s._v("git fetch")]),s._v(" + "),t("code",[s._v("git merge")])]),s._v(" "),t("h3",{attrs:{id:"删除远程分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除远程分支"}},[s._v("#")]),s._v(" 删除远程分支")]),s._v(" "),t("p",[s._v("Git 服务器会保留数据一段时间，误删的远程分支很容易恢复。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin --delete tyson\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"创建远程分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建远程分支"}},[s._v("#")]),s._v(" 创建远程分支")]),s._v(" "),t("p",[s._v("基于本地分支创建远程分支：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin backup_foreign:backup_foreign\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("本地新分支和远程新分支关联：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push --set-upstream origin backup_foreign\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"cherry-pick"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cherry-pick"}},[s._v("#")]),s._v(" cherry-pick")]),s._v(" "),t("p",[s._v("可以用于将在其他分支上的 commit 修改，移植到当前的分支。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cherry-pick "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit-id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("当执行完 cherry-pick 之后，将会自动生成一个新的 commit 进行提交，会有一个新的 commit ID，commit 信息与 cherry-pick 的 commit 信息一致。遇到冲突则解决冲突，然后 "),t("code",[s._v("git add 产生冲突的文件")]),s._v("，然后使用 "),t("code",[s._v("git cherry-pick --continue")]),s._v(" 继续。这个过程中可以使用 "),t("code",[s._v("git cherry-pick --abort")]),s._v("，恢复分支到 cherry-pick 之前的状态。")]),s._v(" "),t("p",[t("code",[s._v("git cherry-pick -x <commit_id>")]),s._v(" 增加 -x 参数，表示保留原提交的作者信息进行提交。")]),s._v(" "),t("p",[s._v("在 Git 1.7.2 版本开始，新增了支持批量 cherry-pick ，就是可以一次将一个连续的时间序列内的 commit ，设定一个开始和结束的 commit ，进行 cherry-pick 操作。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" cherry-pick "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("start-commit-id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("…"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("end-commit-id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("上述命令将从start-commit-id开始到end-commit-id之间的所有commit-id提交记录都合并过来，需要注意的是，start-commit-id必须比end-commit-id提前提交。")]),s._v(" "),t("h3",{attrs:{id:"cherry-pick与rebase的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cherry-pick与rebase的区别"}},[s._v("#")]),s._v(" cherry-pick与rebase的区别")]),s._v(" "),t("p",[s._v("cherry-pick 操作的是某一个或某几个 commit，rebase 操作的是整个分支。")]),s._v(" "),t("blockquote",[t("p",[s._v("参考链接：https://juejin.im/post/5925a2d9a22b9d0058b0fd9b")])]),s._v(" "),t("h2",{attrs:{id:"补丁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#补丁"}},[s._v("#")]),s._v(" 补丁")]),s._v(" "),t("p",[t("code",[s._v("git apply xx.patch")]),s._v(" 需要自己重新 commit。xx.patch 必须从"),t("code",[s._v("git diff")]),s._v("中获得，才能使用 "),t("code",[s._v("git apply")]),s._v("。")]),s._v(" "),t("p",[t("code",[s._v("git am yy.patch")]),s._v(" 会保留commit信息，yy.patch是从"),t("code",[s._v("git format–patch")]),s._v("获得的。")])])}),[],!1,null,null,null);a.default=n.exports}}]);